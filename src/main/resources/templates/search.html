<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Login</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <link href="https://getbootstrap.com/docs/4.0/examples/signin/signin.css" rel="stylesheet" crossorigin="anonymous">
    <link th:href = "@{/css/main.css}" rel="stylesheet">
</head>

<body>
    <div th:fragment="search">
        <div class="container">
			<h1 id="table-header">Instrument List</h1>
	        <hr/>        
			
			<h4 th:text="${#request.requestURI} == '/search' 
						? ${instrumentSelectionModel.instrumentSelection.displayName} 
						: 'Select Instrument'">
			</h4>
					
			<form class="search" th:object = "${instrumentSelectionForm}" method="post">
	
		        <div id="header">
		            <div class="grid-item" id="selector">					
		                <select name="instrumentType" id="instrumentType" th:field="*{instrumentSelection}">
							<option value="default" disabled>Select Instrument</option>
							<option th:each="instrument: ${T(com.gc.model.selection.InstrumentSelectionCategoryNames).values()}" 
									th:value="${instrument}"
									th:text="${instrument.displayName}"
									th:selected="${param.instrument == instrument}">
							</option>
		                </select>
		            </div>		
		            <div class="grid-item" id="search">
		                <button class="btn btn-primary btn-block" type="submit" formaction="/search">Search</button>		
		            </div>
		            <div class="grid-item" id="request-pull">
		                <button class="btn btn-primary btn-block" th:onclick="requestPull()" formaction="/newpull">Request Pull</button>		                
	            	</div>
	        	</div>        
	        	
	        	<p id = "request-notification">*You can only request a pull once per day</p>
	        	
	        </form>
	                
	        <hr/>
	        
	        <div id="instrument-list">
	            <table class="fixed">
	                <tr>
	                    <th>Model</th>
	                    <th id="link">Link</th>
	                    <th>New?</th>
	                </tr>
	                
	               	<!--
	                <tr th:each="instrumentName, link : *{searchResults}">
	                    <td th:field="*{searchResults[__${link.index}__].instrumentName}"></td>
	                    <td th:field="*{searchResults[__${link.index}__].link}"></td>
	                    <td>U</td>
	                </tr>
	            	-->
	            	
	            	
	            	
	            	<tr th:each="instrumentName: ${searchResults}">
	                    <td th:text="${instrumentName.model}"></td>
	                    <td th:text="${instrumentName.link}"></td>
	                    <td>U</td>
	                </tr>
	            	
	            	
	            	
	            	<!--
	            	<tr th:each="instrumentName, link : *{searchResults}">						
	                    <td>
							<input hidden th:name="|books[${itemStat.index}].id|" th:value="${instrumentName.getId()}"/>
						</td>
						<td>
							<input th:name="|books[${itemStat.index}].title|" th:value="${instrumentName.getModel()}"/>
						</td>
						<td>
							<input th:name="|books[${itemStat.index}].author|" th:value="${instrumentName.getLink()}"/>
						</td>
	                    <td>U</td>
	                </tr>
	            	-->
	            	
	                <!--
	                <tr th:each="instrument: ${instrumentList}">
						<td th:text="${instrument.key}"/>
						<td th:text="${instrument.value}"/>
						<!--<td th:text="${guitar.new}"/>
					</tr>
					-->
	            </table>	
	        </div>
	    </div>
    </div>
</body>